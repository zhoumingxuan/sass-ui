@import "tailwindcss";

@config "../../tailwind.config.ts";


@layer base {
  body {
    margin: 0;
    background-color: var(--color-bg);
    color: var(--color-gray-800);
    font-family: var(--font-sans, 'Noto Sans', 'Noto Sans CJK SC', sans-serif);
    font-size: 14px;
    line-height: 1.5;
  }

  a {
    color: var(--color-primary);
    text-decoration: none;
  }

  button {
    font: inherit;
    cursor: pointer;
  }
}

/* Global scrollbar styling (light + dark aware) */
:root {
  --sb-size: 10px;
  --sb-track: transparent;
  /* Light content area: neutral greys from Tailwind tokens (with safe fallbacks) */
  --sb-thumb: var(--color-sb-thumb, color-mix(in srgb, var(--color-gray-400) 55%, transparent));
  --sb-thumb-hover: var(--color-sb-thumb-hover, color-mix(in srgb, var(--color-gray-500) 65%, transparent));
  --sb-thumb-active: var(--color-sb-thumb-active, color-mix(in srgb, var(--color-gray-700) 75%, transparent));

  /* Table tokens */
  --table-select-col-width: 3rem; /* 48px via spacing scale */
  --table-empty-min-h: 12rem;     /* ensures empty overlay centers nicely */

  --gt-row-h: 36px;
  --gt-header-h: 36px;

  --gt-zebra-even: #fff;
  --gt-zebra-odd: #f8fafc;
  --gt-hover: #f3f4f6;
  --gt-selected: rgba(30,128,255,.12);
  --gt-selected-hover: rgba(30,128,255,.18);

  /* 左右固定列的阴影（当可横向滚动时启用） */
  --gt-shadow-right: 4px 0 6px -4px rgba(0,0,0,.12);  /* 加在左区右侧 */
  --gt-shadow-left:  -4px 0 6px -4px rgba(0,0,0,.12); /* 加在右区左侧 */

  /* 分层 */
  --gt-z-left: 30;
  --gt-z-center: 20;
  --gt-z-right: 25;
  --gt-z-head: 40;

  --gt-focused: rgba(30,128,255,.12);
  --gt-focused-hover: rgba(30,128,255,.16);

  --action-ghost-hover: color-mix(in srgb, var(--color-gray-900) 8%, transparent); 

}

/* === 组件级样式（类名尽量语义化） === */
.grid-table { position: relative; }

.grid-table .gt-region--left  { z-index: var(--gt-z-left);  }
.grid-table .gt-region--center{ z-index: var(--gt-z-center);}
.grid-table .gt-region--right { z-index: var(--gt-z-right); }

.grid-table .gt-head-cell{
  position: sticky; top: 0;
  line-height: var(--gt-header-h);
  z-index: var(--gt-z-head);
  height: var(--gt-header-h);
  background: #f8fafc;
  border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
}

.grid-table .gt-cell{ 
  height: var(--gt-row-h); 
  line-height: var(--gt-row-h); 
}

/* 横向可滚动时的左右阴影（由容器类开关） */
.grid-table.has-left-shadow  .gt-region--left { box-shadow: var(--gt-shadow-right); }
.grid-table.has-right-shadow .gt-region--right{ box-shadow: var(--gt-shadow-left); }

/* Firefox */
html {
  scrollbar-width: thin;
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

/* WebKit */
html::-webkit-scrollbar {
  width: var(--sb-size);
  height: var(--sb-size);
}
html::-webkit-scrollbar-track {
  background: var(--sb-track);
}
html::-webkit-scrollbar-thumb {
  background-color: var(--sb-thumb);
  border-radius: 9999px;
  border: 3px solid transparent;
  background-clip: padding-box;
}
html:hover::-webkit-scrollbar-thumb { background-color: var(--sb-thumb-hover); }
html::-webkit-scrollbar-thumb:active {
  background-color: var(--sb-thumb-active);
}

/* Sidebar-specific scrollbar (neutral, no blue) */
/* Sidebar: no-jitter, calm, short pill thumb */
.sidebar-scroll {
  /* keep width stable to avoid layout jump */
  --sb-size: 10px;
  --sb-track: transparent;
  /* default: invisible (neutral) thumb, appears softly on hover/focus */
  --sb-thumb: transparent;
  --sb-thumb-hover: var(--color-sb-thumb-sidebar-hover, color-mix(in srgb, var(--color-nav-fg) 32%, transparent));
  --sb-thumb-active: var(--color-sb-thumb-sidebar-active, color-mix(in srgb, var(--color-nav-fg) 48%, transparent));
  --gt-empty-body-min: 280px;
  scrollbar-width: thin; /* Firefox keeps space, thumb transparent by default */
}
.sidebar-scroll:hover,
.sidebar-scroll:focus-within {
  --sb-track: var(--color-sb-track-sidebar, color-mix(in srgb, var(--color-nav) 22%, transparent));
  --sb-thumb: var(--sb-thumb-hover);
}
/* WebKit refinements for the sidebar */
.sidebar-scroll::-webkit-scrollbar {
  width: var(--sb-size);
  height: var(--sb-size);
}
.sidebar-scroll::-webkit-scrollbar-track {
  background: var(--sb-track);
  border-radius: 9999px;
}
.sidebar-scroll::-webkit-scrollbar-thumb {
  background-color: var(--sb-thumb);
  border-radius: 9999px;
  border: 3px solid transparent; /* inner padding */
  background-clip: padding-box;
  min-height: 28px; /* shorter, calmer pill */
}
.sidebar-scroll:hover::-webkit-scrollbar-thumb { background-color: var(--sb-thumb-hover); }
.sidebar-scroll::-webkit-scrollbar-thumb:active { background-color: var(--sb-thumb-active); }

/* Optional utility: pretty scrollbar for any overflow container */
.nice-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}
.nice-scrollbar::-webkit-scrollbar { width: var(--sb-size); height: var(--sb-size); }
.nice-scrollbar::-webkit-scrollbar-track { background: var(--sb-track); }
.nice-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--sb-thumb);
  border-radius: 9999px;
  border: 3px solid transparent;
  background-clip: padding-box;
}
.nice-scrollbar:hover::-webkit-scrollbar-thumb { background-color: var(--sb-thumb-hover); }
.nice-scrollbar::-webkit-scrollbar-thumb:active { background-color: var(--sb-thumb-active); }

/* GridTable 专用滚动条配色（避免白色轨道） */
.grid-table {
  /* 轨道用轻灰蒙层；thumb 稍深一点 */
  --sb-track: color-mix(in srgb, var(--color-gray-900) 2%, transparent);
  --sb-thumb: color-mix(in srgb, var(--color-gray-500) 62%, transparent);
  --sb-thumb-hover: color-mix(in srgb, var(--color-gray-600) 70%, transparent);
  --sb-thumb-active: color-mix(in srgb, var(--color-gray-700) 80%, transparent);
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

/* 悬停/交互时略微加深，提升可见性 */
.grid-table:hover,
.grid-table:focus-within{
  --sb-track: color-mix(in srgb, var(--color-gray-900) 8%, transparent);
}

/* 右下角拐角防止发白（你已加过也无妨再覆盖一次） */
.grid-table.nice-scrollbar::-webkit-scrollbar-corner{
  background: var(--sb-track);
}

/* Table helpers */
.table-empty { min-height: var(--table-empty-min-h); }

/* Prevent layout shift when the scrollbar appears */
.scrollbar-stable { scrollbar-gutter: stable both-edges; }






